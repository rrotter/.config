export LANG=en_US.UTF-8
export LC_COLLATE=C.UTF-8

# Disable OS vendor zshrc. If there is anything useful there, add it to `~/.zshrc`.
setopt NO_GLOBAL_RCS

case $OSTYPE in
darwin*)
  # proper time/date formats
  export LC_TIME=en_GB.UTF-8
  # Fix broken macOS zsh help
  HELPDIR=/usr/share/zsh/$ZSH_VERSION/help

  # homebrew setup
  case ${CPUTYPE-$MACHTYPE} in
    arm*) export HOMEBREW_PREFIX=/opt/homebrew ;;
    *) export HOMEBREW_PREFIX=/usr/local ;;
  esac
  [[ :$PATH: == *:$HOMEBREW_PREFIX/bin:$HOMEBREW_PREFIX/sbin:* ]] || PATH=$HOMEBREW_PREFIX/bin:$HOMEBREW_PREFIX/sbin:$PATH
;;
linux*)
  # Set proper time formats, at least for GNU Coreutils
  # Don't set LC_TIME, en_GB is missing on most Debian installs
  export TIME_STYLE="+%e %b  %Y"$'\n'"%e %b %H:%M"
  # fix debian renaming of fd
  [[ :$PATH: != *:/usr/lib/cargo/bin:* && -d /usr/lib/cargo/bin ]] && PATH=$PATH:/usr/lib/cargo/bin
;;
esac

# $PATH
[[ :$PATH: == *:/usr/local/bin:* ]] || PATH=/usr/local/bin:$PATH

# config paths
export XDG_CACHE_HOME=~/.cache
export XDG_CONFIG_HOME=~/.config
export XDG_DATA_HOME=~/.local/share
export XDG_STATE_HOME=~/.local/state

export BUNDLE_USER_CACHE=$XDG_CACHE_HOME/bundle
export BUNDLE_USER_CONFIG=$XDG_CONFIG_HOME/bundle.yaml
export GOPATH=$XDG_DATA_HOME/go
export HELM_CACHE_HOME=$XDG_CACHE_HOME/helm
export HELM_CONFIG_HOME=$XDG_CONFIG_HOME/helm
export HELM_DATA_HOME=$XDG_DATA_HOME/helm
export IRBRC=$XDG_CONFIG_HOME/irbrc
export KUBECACHEDIR=$XDG_CACHE_HOME/kube
export LESSHISTFILE=$XDG_STATE_HOME/lesshst
export SAML2AWS_CONFIGFILE=~/.aws/saml2aws
export WGETRC=$XDG_CONFIG_HOME/wgetrc

# macOS default ls colors, in both BSD and GNU format
# generated by https://geoff.greer.fm/lscolors/
export LSCOLORS='exfxcxdxbxegedabagacad'
export LS_COLORS='di=34:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43'
# make grep blue; for BSD and GNU grep
export GREP_COLOR='01;34'; export GREP_COLORS='mt=01;34'

# bg=light
export KUBECOLOR_PRESET=light

## pager / man ##
export MANLESS='$MAN_PN'
export MANPAGER='less -Dd+b -Du+m'
export LESS='-FR --use-color -DP'
